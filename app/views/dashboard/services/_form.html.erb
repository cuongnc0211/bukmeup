<%= form_with(model: [:dashboard, service], class: "space-y-6") do |form| %>
  <% if service.errors.any? %>
    <div class="bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-xl">
      <h3 class="font-medium">Please fix the following errors:</h3>
      <ul class="list-disc list-inside mt-2">
        <% service.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :name, class: "form-label" %>
    <%= form.text_field :name, class: "form-input", placeholder: "e.g., Men's Haircut" %>
  </div>

  <div>
    <%= form.label :description, class: "form-label" %>
    <%= form.text_area :description, rows: 3, class: "form-input", placeholder: "Brief description of this service" %>
  </div>

  <div>
    <%= form.label :duration_minutes, "Duration", class: "form-label" %>
    <%= form.select :duration_minutes,
        options_for_select([[15, 15], [30, 30], [45, 45], [60, 60], [90, 90], [120, 120]], service.duration_minutes),
        { prompt: "Select duration" },
        class: "form-input" %>
    <p class="mt-1.5 text-sm text-slate-500">How long does this service take?</p>
  </div>

  <div>
    <%= form.label :price, "Price (VND)", class: "form-label" %>
    <div class="relative mt-1">
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <span class="text-slate-500 sm:text-sm">â‚«</span>
      </div>
      <%= form.number_field :price,
          value: service.persisted? ? (service.price_cents / 100.0).to_i : nil,
          step: 1000,
          min: 0,
          class: "form-input pl-8",
          placeholder: "e.g., 80000" %>
    </div>
    <p class="mt-1.5 text-sm text-slate-500">Enter price in Vietnamese Dong (VND)</p>
  </div>

  <div class="flex items-center">
    <%= form.check_box :active, class: "h-4 w-4 text-primary-600 focus:ring-primary-500 border-slate-300 rounded transition-colors" %>
    <%= form.label :active, "Service is active", class: "ml-2 block text-sm text-slate-900" %>
  </div>

  <div class="flex items-center gap-4 pt-4 border-t border-slate-100">
    <%= form.submit class: "btn-primary cursor-pointer" %>
    <%= link_to "Cancel", dashboard_services_path, class: "btn-ghost" %>
  </div>
<% end %>
